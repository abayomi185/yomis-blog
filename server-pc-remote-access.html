<!DOCTYPE html>
<html lang="en">
  <a name="top"></a>
  <!-- Referral to move to top of page -->
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Remote Access on Server PC &#8211; Yomi's Blog</title>
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Setting up internet access to selfhosted personal server-apps with Tinc VPN and Nginx">
    <meta name="twitter:card" content="summary"></meta>
    <meta name="twitter:image:src" content="https://yomis.blog/_img/serverpc/network-diagram-close.jpg">
    <link rel="manifest" type="application/manifest+json; charset=utf-8" href="/yomis-blog/manifest.json" />
    <meta name="robots" content="all">
    <meta name="author" content="Abayomi Ikuru">
    
    <meta name="keywords" content="projects">
    <link rel="canonical" href="http://abayomi185.github.io/yomis-blog/server-pc-remote-access">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Yomi's Blog" href="/yomis-blog/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/yomis-blog/css/pixyll.css?202108151334" type="text/css">

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="/yomis-blog/css/swiper-bundle.min.css">

    <!-- Yomi's Custom CSS -->
    <link rel="stylesheet" href="/yomis-blog/css/custom.css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    
    
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    

    <!-- MathJax -->
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Remote Access on Server PC">
    <meta property="og:description" content="A blog for my tech related projects">
    <meta property="og:url" content="http://abayomi185.github.io/server-pc-remote-access">
    <meta property="og:site_name" content="Yomi's Blog">
    
    <meta property="og:image" content="http://abayomi185.github.io/images/me.jpeg">
    

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
    <meta name="twitter:title" content="Remote Access on Server PC" />
    <meta name="twitter:description" content="Setting up internet access to selfhosted personal server-apps with Tinc VPN and Nginx" />
    <meta name="twitter:url" content="http://abayomi185.github.io/server-pc-remote-access" />
    
    <meta name="twitter:image" content="http://abayomi185.github.io/images/me.jpeg" />
    

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/yomis-blog/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/yomis-blog/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/yomis-blog/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/yomis-blog/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/yomis-blog/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/yomis-blog/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/yomis-blog/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/yomis-blog/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/yomis-blog/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/yomis-blog/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/yomis-blog/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/yomis-blog/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/yomis-blog/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/yomis-blog/favicon-32x32.png" sizes="32x32">
    <link rel="shortcut icon" href="/yomis-blog/favicon.ico">

    
</head>

<body class="site animated fade-in-down">
  
	

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="/yomis-blog/" class="site-title">Yomi's Blog</a>
      <nav class="site-nav">
        



    
    
    
    
        <a class="nav-link" href="/yomis-blog/about/">about-me</a>
    
    

    
    
    
    
        <a class="nav-link" href="/yomis-blog/contact/">say-hello</a>
    
    

      </nav>
      <div class="clearfix"></div>
      
        <div class="social-icons">
  <div class="social-icons-right">
    
    
      <a class="fa fa-github" href="https://github.com/abayomi185"></a>
    
    
    
    
    
    
    
    
    <a class="fa fa-linkedin" href="https://www.linkedin.com/in/abayomi-o-ikuru"></a>
    
    
    <a class="fa fa-rss" href="/yomis-blog/feed.xml"></a>
    
    
    
    
    
      <a class="fa fa-paypal" href="https://paypal.me/yomitosh"></a>
    
  </div>
  <div class="right">
    
    
    
  </div>
</div>
<div class="clearfix"></div>

      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        <!-- First Content Div on the rendered page -->
        


<div class="post-header mb2">
  <h1>Remote Access on Server PC</h1>
  <!-- This h1 tag takes the "title" key value from the posts passed into this template  -->
  <span class="post-meta">Jan 18, 2021</span><br>
  
  <span class="post-meta small">
  
    3 minute read
  
  </span>
</div>

<article class="post-content">
  <p><br /></p>
<p style="text-align: center;"><img src="/yomis-blog/_img/serverpc/network-diagram.png" alt="" class="xlarge-post-img" />
<br /><small>Home Lab Network Diagram</small></p>

<p>I’m joyed with all the server applications I’ve set up on <a href="/server-pc">Server-PC</a> but the joy is lost when I’m away from home (although not common these days) and I need to access my data in my home network. Services like google drive and the likes do work at a cost, but I’m a student and my building concern for privacy urges me to find a solution. Finding a solution is just what I did and alas, my joy when I’m away from home is restored.</p>

<p>This set up would be easier if I had a self-managed internet modem and/or router from an ISP, with the ability to request/set a static public IP but such convenience I find doesn’t help with developing creative solutions. My solution with the help of this fantastic <a href="https://jordancrawford.kiwi/setting-up-tinc/">guide by John Crawford</a>, a pen and a paper is as follows.</p>

<p>As the network diagram above shows, I’m able to access my containerised docker application from any device in the Airport network. This works fine in my student room but access from the internet into the network is not possible due to the network structure at my accomodation. This structure is standard across other managed accomodations and public internet access points, as it ensures a level of security in the network.</p>

<p>To remotely access my Server-PC, I needed to set up a <a href="https://en.wikipedia.org/wiki/Virtual_private_network">Virtual Private Network (VPN)</a> connection to a known computer with a fixed public IP address. This known computer, a <a href="https://www.hetzner.com">Hetzner</a> CX11 cloud instance would act as a buffer between the clients and the server, forwarding requests through the VPN tunnel.</p>

<hr />
<p>The CX11 cloud instance costs 2.99 Euros a month with 10gb of persistent storage.</p>
<hr />

<p>A pen and paper although not compulsory was required at this stage to map out the flow of requests from the client to the server. My server applications are all containerised and can be accessed via a reverse proxy for convenience. The reverse proxy (<a href="https://www.nginx.com">Nginx</a>) in this case allows me to access running services using a domain name like <strong>nextcloud.home</strong> as opposed to <strong>10.0.1.8:8080</strong> with the help of <a href="https://pi-hole.net">Pihole</a> as a DNS resolver.</p>

<p><a href="https://www.tinc-vpn.org">Tinc</a>, the open source VPN package is unlike the typical conception of a VPN in society, with an app and a pricing model but it is also similar. Tinc is able to create an encrypted VPN tunnel between two computers if one of them has a static IP address. The two computers would then appear to be in the same network much like my devices in the Airport network.</p>

<p>Tinc and Nginx are both installed on the cloud instance. Tinc is set up with shared encryption keys on Server-PC and CX11 for security purposes and Nginx is set up to forward requests from port 80 to Tinc (Server-PC) via Tinc (CX11) both running in docker containers (I’m using <a href="https://hub.docker.com/r/jenserat/tinc">jenserat - tinc</a> docker image). Request are made to CX11 port 80 via a purchased domain name making use of Hetzner nameservers.</p>

<p>The request is received at Tinc (Server-PC) where another Nginx reverse proxy server awaits to forward the request to the desired docker container. This request channel is then tied to different subdomains like <strong>photoprism.example.com</strong> or <strong>jellyfin.example.com</strong> with the help of Nginx to forward the request to the right containerised application in a docker internal network (for security purposes).</p>

<hr />

<p>With all this done, I have learned a great deal about reverse proxy servers, load balancers and the means by which http requests are sent with http headers. This project has been fun and I’ve been happy to share data and files with friends and family from my own server in true <a href="https://www.reddit.com/r/selfhosted/">r/selfhosted</a> fashion.</p>

<hr />

</article>


  <div class="share-page">
  Share this post!

  <div class="share-links">
    
      <a class="fa fa-facebook" href="https://facebook.com/sharer.php?u=http%3A%2F%2Fabayomi185.github.io%2Fserver-pc-remote-access" rel="nofollow" target="_blank" title="Share on Facebook"></a>
    

    
      <a class="fa fa-twitter" href="https://twitter.com/intent/tweet?text=Remote+Access+on+Server+PC&amp;url=http%3A%2F%2Fabayomi185.github.io%2Fserver-pc-remote-access" rel="nofollow" target="_blank" title="Share on Twitter"></a>
    

    

    
      <a class="fa fa-linkedin" href="http://www.linkedin.com/shareArticle?url=http%3A%2F%2Fabayomi185.github.io%2Fserver-pc-remote-access&amp;title=Remote+Access+on+Server+PC" rel="nofollow" target="_blank" title="Share on LinkedIn"></a>
    

    

    

    

    

    
  </div>
</div>






  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname  = 'yomisblog';
    var disqus_identifier = '/Remote-Access-ServerPC';
    var disqus_title      = "Remote Access on Server PC";

    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <!-- Place this tag in your head or just before your close body tag. -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>






      </div>
    </div>
  </div>

  <footer class="center">
  <div class="measure">
    <small>
      <!-- Theme crafted with &lt;3 by <a href="http://johnotander.com">John Otander</a> (<a href="https://twitter.com/4lpine">@4lpine</a>).<br>
      &lt;/&gt; available on <a href="https://github.com/johnotander/pixyll">GitHub</a>. -->
      Yomi's Blog tweaked and adapted from <a href="https://github.com/johnotander/pixyll">Pixyll</a>.<br>
      <a href="#top">Social Links</a> at the top ;)
    </small>
  </div>
</footer>

<script type="text/javascript">
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/yomis-blog/sw.js")
    }
</script>

<!-- Swiper JS -->
<script src="/yomis-blog/js/swiper-bundle.min.js" type="text/javascript"></script>

<!-- shoppy.gg -->
<script src="https://shoppy.gg/api/embed.js"></script>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<!-- Yomi's Custom JS -->
<script src="/yomis-blog/js/custom.js" type="text/javascript"></script>
</body>
</html>
